"use strict";(self.webpackChunkgoji_js_org=self.webpackChunkgoji_js_org||[]).push([[381],{190:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(7896),r=(n(2784),n(876));const i={sidebar_position:2},o="CSS-in-JS",l={unversionedId:"advanced/css-in-js",id:"advanced/css-in-js",title:"CSS-in-JS",description:"CSS-in-JS is a way to organize React styling codes that allows developers to write mixture of CSS",source:"@site/docs/advanced/css-in-js.md",sourceDirName:"advanced",slug:"/advanced/css-in-js",permalink:"/docs/advanced/css-in-js",editUrl:"https://github.com/airbnb/goji-js/tree/main/packages/goji.js.org/docs/advanced/css-in-js.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"CSS Module",permalink:"/docs/advanced/css"},next:{title:"Plugins",permalink:"/docs/advanced/plugins"}},s={},p=[{value:"Why Linaria",id:"why-linaria",level:2},{value:"Installation",id:"installation",level:2},{value:"Usages",id:"usages",level:2},{value:"<code>css</code>",id:"css",level:3},{value:"<code>styled</code>",id:"styled",level:3}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"css-in-js"},"CSS-in-JS"),(0,r.kt)("p",null,"CSS-in-JS is a way to organize React styling codes that allows developers to write mixture of CSS\nand JS in the same file. It's usually regarded as an alternative to CSS Module."),(0,r.kt)("h2",{id:"why-linaria"},"Why Linaria"),(0,r.kt)("p",null,"CSS-in-JS not only provides more flexibility than CSS Module, but also brings more complex issues."),(0,r.kt)("p",null,"For example, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/styled-components/styled-components"},"styled-components")," creates a\n",(0,r.kt)("inlineCode",{parentName:"p"},"<style>")," HTML tag in runtime, but there is no way to dynamic inject any CSS code on Mini Program.\nIn theory, styled-components cannot be compatible with GojiJS."),(0,r.kt)("p",null,"After researching we found only a few of libraries is feasible for GojiJS. The\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/callstack/linaria"},"Linaria")," might be the most suitable choice for these reasons."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Linaria extract all static styles into standalone ",(0,r.kt)("inlineCode",{parentName:"p"},".css")," files.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Linaria support pre/post CSS processors like PostCSS.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Linaria can be used with CSS Module in the same project that enable developers migrate their code\nprogressively.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Linaria aims to be a zero-runtime CSS-in-JS implement which aligns the tech stack of Mini Program."))),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"At first, you should run"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install linaria\n")),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add linaria\n")),(0,r.kt)("p",null,"to install Linaria in your project."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"GojiJS now support Linaria version 2")),(0,r.kt)("p",null,"You don't have to create any config file because GojiJS CLI already done these works. So let's begin\nthe first demo of Linaria."),(0,r.kt)("h2",{id:"usages"},"Usages"),(0,r.kt)("h3",{id:"css"},(0,r.kt)("inlineCode",{parentName:"h3"},"css")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { css } from 'linaria';\n\nconst title = css`\n  font-size: 24px;\n  font-weight: bold;\n`;\n\nconst Heading = () => {\n  return <View className={title}>This is a title</View>;\n};\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"css")," tag is the most important part of Linaria that you should always wrap CSS codes inside it."),(0,r.kt)("p",null,"Linaria static code analyzer could extract styles into a standalone ",(0,r.kt)("inlineCode",{parentName:"p"},".css")," file and the ",(0,r.kt)("inlineCode",{parentName:"p"},"css"),"\nsentence would be replaced with a hashed class name string. Like this,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},".title_m01a5h {\n  font-size: 24px;\n  font-weight: bold;\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"const title = 'title_m01a5h';\n\nconst Heading = () => {\n  return <View className={title}>This is a title</View>;\n};\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"css")," tag also support nesting, pseudo-elements and pseudo-selectors. For example,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"const button = css`\n  color: black;\n\n  &:hover {\n    color: blue;\n  }\n`;\n")),(0,r.kt)("p",null,"becomes"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},".button_h3m1a0 {\n  color: black;\n}\n.button_h3m1a0:hover {\n  color: blue;\n}\n")),(0,r.kt)("h3",{id:"styled"},(0,r.kt)("inlineCode",{parentName:"h3"},"styled")),(0,r.kt)("p",null,"Linaria provides a API called ",(0,r.kt)("inlineCode",{parentName:"p"},"styled")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"linaria/react"),", which might be inspired from\n",(0,r.kt)("em",{parentName:"p"},"styled-components"),". It's useful to create a component with some styles applied."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"const Heading = styled(View)<{ color?: string }>`\n  font-size: 20rpx;\n  font-weight: bold;\n  color: ${props => props.color ?? 'black'};\n`;\n")),(0,r.kt)("p",null,"In above example, the ",(0,r.kt)("inlineCode",{parentName:"p"},"Heading")," component could render different color value from its property."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"[Proposal]"," Don't use APIs like ",(0,r.kt)("inlineCode",{parentName:"p"},"styled.view")," because they are designed for React DON. GojiJS might\nprovides a new wrapped ",(0,r.kt)("inlineCode",{parentName:"p"},"styled")," API from ",(0,r.kt)("inlineCode",{parentName:"p"},"@goji/linaria"),".")),(0,r.kt)("p",null,"For more details of ",(0,r.kt)("inlineCode",{parentName:"p"},"css")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"styled"),", please refer to\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/callstack/linaria/blob/2.0.x/docs/BASICS.md"},"this link"),"."))}d.isMDXComponent=!0},876:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(2784);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,k=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return n?a.createElement(k,o(o({ref:t},c),{},{components:n})):a.createElement(k,o({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);